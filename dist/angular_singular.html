<!DOCTYPE html>
<html lang="en">
<head>
    <title>angular-singular - dynamic chart filtering</title>
    <meta charset="UTF-8">
    <!--just for testing, not a dependency -->
    <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <!--the following styles are required  -->
    <link rel="stylesheet" type="text/css" href="Singular.css"/>
</head>
<body>

<div ng-app=TestApp>
    <div ng-controller=myController class="container">
        <div ng-repeat="n in config.rangeFacetFields" class="col-xs-12 col-md-12">
            <div class="input-group input-group-sm singular">
                        <span class="input-group-addon"
                              style="border-right: 1px solid #ccc; min-width: 120px; background-color: rgba(245, 245, 245, 0.54);">
                            <span class="glyphicon glyphicon-filter-"></span>{{n.name}}
                        </span>
                <div singular-barchart
                     config="n"
                     filters="filters[n.field]"
                     range-filters="rangeFilters[n.field]"
                     on-filter-changes="onFilterChange()"
                     style="border-right:none;border-bottom: none;border-top: none;padding-top: 5px;padding-left: 10px;">
                </div>
            </div>
        </div>
    </div>
</div>

<!-- just for testing, not a dependency -->
<script type="text/javascript" src="../bower_components/angular/angular.min.js"></script>

<!-- the following js are required dependency -->
<script type="text/javascript" src="../bower_components/d3/d3.min.js"></script>

<!-- the following js should be included in angular-singular libs -->
<script type="text/javascript" src="Singular.js"></script>
<!-- end -->

<script type="text/javascript">
    angular.module('TestApp', ["Singular"])
            .controller('myController', ['$scope', function ($scope) {

                $scope.filters = $scope.filters || {
                            "aidtype": [{
                                "name": "confirmatory",
                                "count": 68837563
                            }, {"name": "literature-derived", "count": 7539776}, {
                                "name": "other",
                                "count": 5566288
                            }, {"name": "screening", "count": 146011512}, {"name": "summary", "count": 245145}],
                            "actvty": [{"name": "active", "count": 4446691}, {
                                "name": "inactive",
                                "count": 216388979
                            }, {"name": "inconclusive", "count": 4219209}, {
                                "name": "probe",
                                "count": 304
                            }, {"name": "unspecified", "count": 4585023}],
                            "mw": [{"name": "0", "count": 36}, {"name": "10", "count": 65}, {
                                "name": "20",
                                "count": 65
                            }, {"name": "30", "count": 1274}, {"name": "40", "count": 4241}, {
                                "name": "50",
                                "count": 7358
                            }, {"name": "60", "count": 8696}, {"name": "70", "count": 23809}, {
                                "name": "80",
                                "count": 28412
                            }, {"name": "90", "count": 30142}, {"name": "100", "count": 61315}, {
                                "name": "110",
                                "count": 71664
                            }, {"name": "120", "count": 112069}, {"name": "130", "count": 147626}, {
                                "name": "140",
                                "count": 164582
                            }, {"name": "150", "count": 329851}, {"name": "160", "count": 432365}, {
                                "name": "170",
                                "count": 583892
                            }, {"name": "180", "count": 784639}, {"name": "190", "count": 1048658}, {
                                "name": "200",
                                "count": 1586094
                            }, {"name": "210", "count": 2066514}, {"name": "220", "count": 2564386}, {
                                "name": "230",
                                "count": 3369066
                            }, {"name": "240", "count": 4109967}, {"name": "250", "count": 4808828}, {
                                "name": "260",
                                "count": 5879720
                            }, {"name": "270", "count": 6641935}, {"name": "280", "count": 7851722}, {
                                "name": "290",
                                "count": 8651882
                            }, {"name": "300", "count": 9147198}, {"name": "310", "count": 10050474}, {
                                "name": "320",
                                "count": 10345935
                            }, {"name": "330", "count": 10611922}, {"name": "340", "count": 10943097}, {
                                "name": "350",
                                "count": 11044424
                            }, {"name": "360", "count": 10877257}, {"name": "370", "count": 10508267}, {
                                "name": "380",
                                "count": 10427756
                            }, {"name": "390", "count": 9721044}, {"name": "400", "count": 9124078}, {
                                "name": "410",
                                "count": 8532694
                            }, {"name": "420", "count": 7862692}, {"name": "430", "count": 7159377}, {
                                "name": "440",
                                "count": 6407672
                            }, {"name": "450", "count": 5562867}, {"name": "460", "count": 4837506}, {
                                "name": "470",
                                "count": 4508828
                            }, {"name": "480", "count": 3847002}, {"name": "490", "count": 3380483}, {
                                "name": "500",
                                "count": 1822038
                            }, {"name": "510", "count": 1531374}, {"name": "520", "count": 1278605}, {
                                "name": "530",
                                "count": 1081266
                            }, {"name": "540", "count": 902911}, {"name": "550", "count": 658840}, {
                                "name": "560",
                                "count": 596754
                            }, {"name": "570", "count": 509144}, {"name": "580", "count": 458165}, {
                                "name": "590",
                                "count": 359619
                            }, {"name": "600", "count": 295413}, {"name": "610", "count": 280884}, {
                                "name": "620",
                                "count": 221346
                            }, {"name": "630", "count": 209455}, {"name": "640", "count": 178681}, {
                                "name": "650",
                                "count": 170004
                            }, {"name": "660", "count": 141948}, {"name": "670", "count": 115906}, {
                                "name": "680",
                                "count": 123049
                            }, {"name": "690", "count": 93948}, {"name": "700", "count": 88704}, {
                                "name": "710",
                                "count": 81946
                            }, {"name": "720", "count": 71540}, {"name": "730", "count": 58834}, {
                                "name": "740",
                                "count": 48689
                            }, {"name": "750", "count": 41223}, {"name": "760", "count": 40645}, {
                                "name": "770",
                                "count": 28599
                            }, {"name": "780", "count": 35903}, {"name": "790", "count": 27108}, {
                                "name": "800",
                                "count": 27668
                            }, {"name": "810", "count": 24817}, {"name": "820", "count": 30419}, {
                                "name": "830",
                                "count": 22692
                            }, {"name": "840", "count": 25411}, {"name": "850", "count": 24854}, {
                                "name": "860",
                                "count": 24823
                            }, {"name": "870", "count": 15988}, {"name": "880", "count": 14056}, {
                                "name": "890",
                                "count": 15701
                            }, {"name": "900", "count": 19891}, {"name": "910", "count": 20417}, {
                                "name": "920",
                                "count": 20538
                            }, {"name": "930", "count": 16251}, {"name": "940", "count": 14333}, {
                                "name": "950",
                                "count": 12296
                            }, {"name": "960", "count": 17796}, {"name": "970", "count": 13246}, {
                                "name": "980",
                                "count": 12518
                            }, {"name": "990", "count": 11497}, {"name": "1000", "count": 10400}, {
                                "name": "1010",
                                "count": 8325
                            }, {"name": "1020", "count": 7728}, {"name": "1030", "count": 13220}, {
                                "name": "1040",
                                "count": 5698
                            }, {"name": "1050", "count": 8097}, {"name": "1060", "count": 7064}, {
                                "name": "1070",
                                "count": 8229
                            }, {"name": "1080", "count": 6893}, {"name": "1090", "count": 9662}, {
                                "name": "1100",
                                "count": 4019
                            }, {"name": "1110", "count": 7769}, {"name": "1120", "count": 4666}, {
                                "name": "1130",
                                "count": 5003
                            }, {"name": "1140", "count": 6572}, {"name": "1150", "count": 3217}, {
                                "name": "1160",
                                "count": 4618
                            }, {"name": "1170", "count": 2779}, {"name": "1180", "count": 3296}, {
                                "name": "1190",
                                "count": 4038
                            }, {"name": "1200", "count": 7586}, {"name": "1210", "count": 4357}, {
                                "name": "1220",
                                "count": 3822
                            }, {"name": "1230", "count": 3348}, {"name": "1240", "count": 3932}, {
                                "name": "1250",
                                "count": 5597
                            }, {"name": "1260", "count": 3348}, {"name": "1270", "count": 4731}, {
                                "name": "1280",
                                "count": 1847
                            }, {"name": "1290", "count": 3635}, {"name": "1300", "count": 4490}, {
                                "name": "1310",
                                "count": 3354
                            }, {"name": "1320", "count": 3281}, {"name": "1330", "count": 2313}, {
                                "name": "1340",
                                "count": 2381
                            }, {"name": "1350", "count": 2944}, {"name": "1360", "count": 1611}, {
                                "name": "1370",
                                "count": 1107
                            }, {"name": "1380", "count": 1735}, {"name": "1390", "count": 6171}, {
                                "name": "1400",
                                "count": 988
                            }, {"name": "1410", "count": 2150}, {"name": "1420", "count": 2752}, {
                                "name": "1430",
                                "count": 1588
                            }, {"name": "1440", "count": 8298}, {"name": "1450", "count": 1363}, {
                                "name": "1460",
                                "count": 1005
                            }, {"name": "1470", "count": 1492}, {"name": "1480", "count": 1847}, {
                                "name": "1490",
                                "count": 1057
                            }, {"name": "1500", "count": 1533}, {"name": "1510", "count": 922}, {
                                "name": "1520",
                                "count": 945
                            }, {"name": "1530", "count": 796}, {"name": "1540", "count": 646}, {
                                "name": "1550",
                                "count": 1114
                            }, {"name": "1560", "count": 1154}, {"name": "1570", "count": 1335}, {
                                "name": "1580",
                                "count": 808
                            }, {"name": "1590", "count": 559}, {"name": "1600", "count": 1252}, {
                                "name": "1610",
                                "count": 786
                            }, {"name": "1620", "count": 2815}, {"name": "1630", "count": 1197}, {
                                "name": "1640",
                                "count": 1349
                            }, {"name": "1650", "count": 1176}, {"name": "1660", "count": 1598}, {
                                "name": "1670",
                                "count": 774
                            }, {"name": "1680", "count": 482}, {"name": "1690", "count": 660}, {
                                "name": "1700",
                                "count": 2263
                            }, {"name": "1710", "count": 532}, {"name": "1720", "count": 683}, {
                                "name": "1730",
                                "count": 1468
                            }, {"name": "1740", "count": 754}, {"name": "1750", "count": 1229}, {
                                "name": "1760",
                                "count": 801
                            }, {"name": "1770", "count": 280}, {"name": "1780", "count": 355}, {
                                "name": "1790",
                                "count": 589
                            }, {"name": "1800", "count": 583}, {"name": "1810", "count": 549}, {
                                "name": "1820",
                                "count": 332
                            }, {"name": "1830", "count": 290}, {"name": "1840", "count": 358}, {
                                "name": "1850",
                                "count": 347
                            }, {"name": "1860", "count": 387}, {"name": "1870", "count": 416}, {
                                "name": "1880",
                                "count": 316
                            }, {"name": "1890", "count": 351}, {"name": "1900", "count": 379}, {
                                "name": "1910",
                                "count": 244
                            }, {"name": "1920", "count": 269}, {"name": "1930", "count": 259}, {
                                "name": "1940",
                                "count": 313
                            }, {"name": "1950", "count": 347}, {"name": "1960", "count": 466}, {
                                "name": "1970",
                                "count": 236
                            }, {"name": "1980", "count": 336}, {"name": "1990", "count": 205}],
                            "acvalue": [{"name": "0.0", "count": 1185030}, {
                                "name": "1.0",
                                "count": 322998
                            }, {"name": "2.0", "count": 233362}, {"name": "3.0", "count": 257610}, {
                                "name": "4.0",
                                "count": 128574
                            }, {"name": "5.0", "count": 175523}, {"name": "6.0", "count": 131974}, {
                                "name": "7.0",
                                "count": 151954
                            }, {"name": "8.0", "count": 120269}, {"name": "9.0", "count": 68877}, {
                                "name": "10.0",
                                "count": 303925
                            }, {"name": "11.0", "count": 206690}, {"name": "12.0", "count": 169058}, {
                                "name": "13.0",
                                "count": 51382
                            }, {"name": "14.0", "count": 153768}, {"name": "15.0", "count": 121158}, {
                                "name": "16.0",
                                "count": 100371
                            }, {"name": "17.0", "count": 82747}, {"name": "18.0", "count": 152592}, {
                                "name": "19.0",
                                "count": 110302
                            }, {"name": "20.0", "count": 120380}, {"name": "21.0", "count": 23945}, {
                                "name": "22.0",
                                "count": 113603
                            }, {"name": "23.0", "count": 101895}, {"name": "24.0", "count": 11172}, {
                                "name": "25.0",
                                "count": 192931
                            }, {"name": "26.0", "count": 28780}, {"name": "27.0", "count": 9782}, {
                                "name": "28.0",
                                "count": 143595
                            }, {"name": "29.0", "count": 183903}, {"name": "30.0", "count": 29455}, {
                                "name": "31.0",
                                "count": 162523
                            }, {"name": "32.0", "count": 31496}, {"name": "33.0", "count": 14396}, {
                                "name": "34.0",
                                "count": 6160
                            }, {"name": "35.0", "count": 207902}, {"name": "36.0", "count": 5328}, {
                                "name": "37.0",
                                "count": 17123
                            }, {"name": "38.0", "count": 6551}, {"name": "39.0", "count": 169709}, {
                                "name": "40.0",
                                "count": 13588
                            }, {"name": "41.0", "count": 4374}, {"name": "42.0", "count": 6289}, {
                                "name": "43.0",
                                "count": 5784
                            }, {"name": "44.0", "count": 66145}, {"name": "45.0", "count": 3911}, {
                                "name": "46.0",
                                "count": 3855
                            }, {"name": "47.0", "count": 5875}, {"name": "48.0", "count": 6522}, {
                                "name": "49.0",
                                "count": 4135
                            }, {"name": "50.0", "count": 129143}, {"name": "51.0", "count": 2817}, {
                                "name": "52.0",
                                "count": 4238
                            }, {"name": "53.0", "count": 5092}, {"name": "54.0", "count": 9912}, {
                                "name": "55.0",
                                "count": 4885
                            }, {"name": "56.0", "count": 51258}, {"name": "57.0", "count": 2518}, {
                                "name": "58.0",
                                "count": 3325
                            }, {"name": "59.0", "count": 3848}, {"name": "60.0", "count": 8175}, {
                                "name": "61.0",
                                "count": 7586
                            }, {"name": "62.0", "count": 2815}, {"name": "63.0", "count": 17114}, {
                                "name": "64.0",
                                "count": 3734
                            }, {"name": "65.0", "count": 2025}, {"name": "66.0", "count": 6128}, {
                                "name": "67.0",
                                "count": 7625
                            }, {"name": "68.0", "count": 6078}, {"name": "69.0", "count": 3405}, {
                                "name": "70.0",
                                "count": 25868
                            }, {"name": "71.0", "count": 1842}, {"name": "72.0", "count": 1699}, {
                                "name": "73.0",
                                "count": 1508
                            }, {"name": "74.0", "count": 2000}, {"name": "75.0", "count": 8800}, {
                                "name": "76.0",
                                "count": 2385
                            }, {"name": "77.0", "count": 1551}, {"name": "78.0", "count": 1403}, {
                                "name": "79.0",
                                "count": 70937
                            }, {"name": "80.0", "count": 10997}, {"name": "81.0", "count": 1345}, {
                                "name": "82.0",
                                "count": 1087
                            }, {"name": "83.0", "count": 1692}, {"name": "84.0", "count": 7198}, {
                                "name": "85.0",
                                "count": 1670
                            }, {"name": "86.0", "count": 1095}, {"name": "87.0", "count": 1064}, {
                                "name": "88.0",
                                "count": 1122
                            }, {"name": "89.0", "count": 151957}, {"name": "90.0", "count": 1737}, {
                                "name": "91.0",
                                "count": 1445
                            }, {"name": "92.0", "count": 1926}, {"name": "93.0", "count": 1070}, {
                                "name": "94.0",
                                "count": 1312
                            }, {"name": "95.0", "count": 5609}, {"name": "96.0", "count": 985}, {
                                "name": "97.0",
                                "count": 880
                            }, {"name": "98.0", "count": 918}, {"name": "99.0", "count": 3526}, {
                                "name": "100.0",
                                "count": 162287
                            }, {"name": "101.0", "count": 596}, {"name": "102.0", "count": 598}, {
                                "name": "103.0",
                                "count": 602
                            }, {"name": "104.0", "count": 500}, {"name": "105.0", "count": 569}, {
                                "name": "106.0",
                                "count": 472
                            }, {"name": "107.0", "count": 497}, {"name": "108.0", "count": 889}, {
                                "name": "109.0",
                                "count": 481
                            }, {"name": "110.0", "count": 2772}, {"name": "111.0", "count": 805}, {
                                "name": "112.0",
                                "count": 20460
                            }, {"name": "113.0", "count": 462}, {"name": "114.0", "count": 439}, {
                                "name": "115.0",
                                "count": 487
                            }, {"name": "116.0", "count": 514}, {"name": "117.0", "count": 481}, {
                                "name": "118.0",
                                "count": 1211
                            }, {"name": "119.0", "count": 397}, {"name": "120.0", "count": 5162}, {
                                "name": "121.0",
                                "count": 779
                            }, {"name": "122.0", "count": 694}, {"name": "123.0", "count": 397}, {
                                "name": "124.0",
                                "count": 344
                            }, {"name": "125.0", "count": 10652}, {"name": "126.0", "count": 408}, {
                                "name": "127.0",
                                "count": 386
                            }, {"name": "128.0", "count": 865}, {"name": "129.0", "count": 377}, {
                                "name": "130.0",
                                "count": 961
                            }, {"name": "131.0", "count": 315}, {"name": "132.0", "count": 340}, {
                                "name": "133.0",
                                "count": 424
                            }, {"name": "134.0", "count": 342}, {"name": "135.0", "count": 396}, {
                                "name": "136.0",
                                "count": 328
                            }, {"name": "137.0", "count": 328}, {"name": "138.0", "count": 520}, {
                                "name": "139.0",
                                "count": 285
                            }, {"name": "140.0", "count": 794}, {"name": "141.0", "count": 2224}, {
                                "name": "142.0",
                                "count": 333
                            }, {"name": "143.0", "count": 322}, {"name": "144.0", "count": 320}, {
                                "name": "145.0",
                                "count": 310
                            }, {"name": "146.0", "count": 317}, {"name": "147.0", "count": 327}, {
                                "name": "148.0",
                                "count": 361
                            }, {"name": "149.0", "count": 267}, {"name": "150.0", "count": 7812}, {
                                "name": "151.0",
                                "count": 306
                            }, {"name": "152.0", "count": 263}, {"name": "153.0", "count": 258}, {
                                "name": "154.0",
                                "count": 312
                            }, {"name": "155.0", "count": 433}, {"name": "156.0", "count": 293}, {
                                "name": "157.0",
                                "count": 256
                            }, {"name": "158.0", "count": 908}, {"name": "159.0", "count": 264}, {
                                "name": "160.0",
                                "count": 1857
                            }, {"name": "161.0", "count": 266}, {"name": "162.0", "count": 305}, {
                                "name": "163.0",
                                "count": 245
                            }, {"name": "164.0", "count": 318}, {"name": "165.0", "count": 264}, {
                                "name": "166.0",
                                "count": 484
                            }, {"name": "167.0", "count": 380}, {"name": "168.0", "count": 259}, {
                                "name": "169.0",
                                "count": 238
                            }, {"name": "170.0", "count": 667}, {"name": "171.0", "count": 244}, {
                                "name": "172.0",
                                "count": 227
                            }, {"name": "173.0", "count": 211}, {"name": "174.0", "count": 234}, {
                                "name": "175.0",
                                "count": 289
                            }, {"name": "176.0", "count": 208}, {"name": "177.0", "count": 455}, {
                                "name": "178.0",
                                "count": 242
                            }, {"name": "179.0", "count": 210}, {"name": "180.0", "count": 992}, {
                                "name": "181.0",
                                "count": 263
                            }, {"name": "182.0", "count": 221}, {"name": "183.0", "count": 203}, {
                                "name": "184.0",
                                "count": 217
                            }, {"name": "185.0", "count": 231}, {"name": "186.0", "count": 230}, {
                                "name": "187.0",
                                "count": 180
                            }, {"name": "188.0", "count": 233}, {"name": "189.0", "count": 186}, {
                                "name": "190.0",
                                "count": 580
                            }, {"name": "191.0", "count": 201}, {"name": "192.0", "count": 222}, {
                                "name": "193.0",
                                "count": 178
                            }, {"name": "194.0", "count": 192}, {"name": "195.0", "count": 2344}, {
                                "name": "196.0",
                                "count": 175
                            }, {"name": "197.0", "count": 172}, {"name": "198.0", "count": 198}, {
                                "name": "199.0",
                                "count": 613
                            }],
                            "aidmdate": [{"name": "1996-01-01T00:00:00Z", "count": 0}, {
                                "name": "1996-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1996-03-01T00:00:00Z", "count": 0}, {
                                "name": "1996-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1996-05-01T00:00:00Z", "count": 0}, {
                                "name": "1996-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1996-07-01T00:00:00Z", "count": 0}, {
                                "name": "1996-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1996-09-01T00:00:00Z", "count": 0}, {
                                "name": "1996-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1996-11-01T00:00:00Z", "count": 0}, {
                                "name": "1996-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-01-01T00:00:00Z", "count": 0}, {
                                "name": "1997-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-03-01T00:00:00Z", "count": 0}, {
                                "name": "1997-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-05-01T00:00:00Z", "count": 0}, {
                                "name": "1997-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-07-01T00:00:00Z", "count": 0}, {
                                "name": "1997-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-09-01T00:00:00Z", "count": 0}, {
                                "name": "1997-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1997-11-01T00:00:00Z", "count": 0}, {
                                "name": "1997-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-01-01T00:00:00Z", "count": 0}, {
                                "name": "1998-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-03-01T00:00:00Z", "count": 0}, {
                                "name": "1998-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-05-01T00:00:00Z", "count": 0}, {
                                "name": "1998-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-07-01T00:00:00Z", "count": 0}, {
                                "name": "1998-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-09-01T00:00:00Z", "count": 0}, {
                                "name": "1998-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1998-11-01T00:00:00Z", "count": 0}, {
                                "name": "1998-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-01-01T00:00:00Z", "count": 0}, {
                                "name": "1999-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-03-01T00:00:00Z", "count": 0}, {
                                "name": "1999-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-05-01T00:00:00Z", "count": 0}, {
                                "name": "1999-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-07-01T00:00:00Z", "count": 0}, {
                                "name": "1999-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-09-01T00:00:00Z", "count": 0}, {
                                "name": "1999-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "1999-11-01T00:00:00Z", "count": 0}, {
                                "name": "1999-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-01-01T00:00:00Z", "count": 0}, {
                                "name": "2000-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-03-01T00:00:00Z", "count": 0}, {
                                "name": "2000-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-05-01T00:00:00Z", "count": 0}, {
                                "name": "2000-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-07-01T00:00:00Z", "count": 0}, {
                                "name": "2000-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-09-01T00:00:00Z", "count": 0}, {
                                "name": "2000-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2000-11-01T00:00:00Z", "count": 0}, {
                                "name": "2000-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-01-01T00:00:00Z", "count": 0}, {
                                "name": "2001-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-03-01T00:00:00Z", "count": 0}, {
                                "name": "2001-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-05-01T00:00:00Z", "count": 0}, {
                                "name": "2001-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-07-01T00:00:00Z", "count": 0}, {
                                "name": "2001-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-09-01T00:00:00Z", "count": 0}, {
                                "name": "2001-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2001-11-01T00:00:00Z", "count": 0}, {
                                "name": "2001-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-01-01T00:00:00Z", "count": 0}, {
                                "name": "2002-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-03-01T00:00:00Z", "count": 0}, {
                                "name": "2002-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-05-01T00:00:00Z", "count": 0}, {
                                "name": "2002-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-07-01T00:00:00Z", "count": 0}, {
                                "name": "2002-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-09-01T00:00:00Z", "count": 0}, {
                                "name": "2002-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2002-11-01T00:00:00Z", "count": 0}, {
                                "name": "2002-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-01-01T00:00:00Z", "count": 0}, {
                                "name": "2003-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-03-01T00:00:00Z", "count": 0}, {
                                "name": "2003-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-05-01T00:00:00Z", "count": 0}, {
                                "name": "2003-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-07-01T00:00:00Z", "count": 0}, {
                                "name": "2003-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-09-01T00:00:00Z", "count": 0}, {
                                "name": "2003-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2003-11-01T00:00:00Z", "count": 0}, {
                                "name": "2003-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2004-01-01T00:00:00Z", "count": 0}, {
                                "name": "2004-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2004-03-01T00:00:00Z", "count": 0}, {
                                "name": "2004-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2004-05-01T00:00:00Z", "count": 0}, {
                                "name": "2004-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2004-07-01T00:00:00Z", "count": 0}, {
                                "name": "2004-08-01T00:00:00Z",
                                "count": 3212776
                            }, {"name": "2004-09-01T00:00:00Z", "count": 0}, {
                                "name": "2004-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2004-11-01T00:00:00Z", "count": 0}, {
                                "name": "2004-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-01-01T00:00:00Z", "count": 0}, {
                                "name": "2005-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-03-01T00:00:00Z", "count": 0}, {
                                "name": "2005-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-05-01T00:00:00Z", "count": 0}, {
                                "name": "2005-06-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-07-01T00:00:00Z", "count": 0}, {
                                "name": "2005-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-09-01T00:00:00Z", "count": 0}, {
                                "name": "2005-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2005-11-01T00:00:00Z", "count": 0}, {
                                "name": "2005-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2006-01-01T00:00:00Z", "count": 0}, {
                                "name": "2006-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2006-03-01T00:00:00Z", "count": 3317}, {
                                "name": "2006-04-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2006-05-01T00:00:00Z", "count": 2826}, {
                                "name": "2006-06-01T00:00:00Z",
                                "count": 1413
                            }, {"name": "2006-07-01T00:00:00Z", "count": 100963}, {
                                "name": "2006-08-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2006-09-01T00:00:00Z", "count": 30}, {
                                "name": "2006-10-01T00:00:00Z",
                                "count": 63713
                            }, {"name": "2006-11-01T00:00:00Z", "count": 105480}, {
                                "name": "2006-12-01T00:00:00Z",
                                "count": 3132
                            }, {"name": "2007-01-01T00:00:00Z", "count": 130772}, {
                                "name": "2007-02-01T00:00:00Z",
                                "count": 51924
                            }, {"name": "2007-03-01T00:00:00Z", "count": 645378}, {
                                "name": "2007-04-01T00:00:00Z",
                                "count": 1422110
                            }, {"name": "2007-05-01T00:00:00Z", "count": 409189}, {
                                "name": "2007-06-01T00:00:00Z",
                                "count": 145939
                            }, {"name": "2007-07-01T00:00:00Z", "count": 336107}, {
                                "name": "2007-08-01T00:00:00Z",
                                "count": 193226
                            }, {"name": "2007-09-01T00:00:00Z", "count": 478208}, {
                                "name": "2007-10-01T00:00:00Z",
                                "count": 1150918
                            }, {"name": "2007-11-01T00:00:00Z", "count": 1990421}, {
                                "name": "2007-12-01T00:00:00Z",
                                "count": 797584
                            }, {"name": "2008-01-01T00:00:00Z", "count": 1060996}, {
                                "name": "2008-02-01T00:00:00Z",
                                "count": 807140
                            }, {"name": "2008-03-01T00:00:00Z", "count": 972557}, {
                                "name": "2008-04-01T00:00:00Z",
                                "count": 316087
                            }, {"name": "2008-05-01T00:00:00Z", "count": 711333}, {
                                "name": "2008-06-01T00:00:00Z",
                                "count": 696711
                            }, {"name": "2008-07-01T00:00:00Z", "count": 195489}, {
                                "name": "2008-08-01T00:00:00Z",
                                "count": 901185
                            }, {"name": "2008-09-01T00:00:00Z", "count": 591029}, {
                                "name": "2008-10-01T00:00:00Z",
                                "count": 2371933
                            }, {"name": "2008-11-01T00:00:00Z", "count": 662860}, {
                                "name": "2008-12-01T00:00:00Z",
                                "count": 3731454
                            }, {"name": "2009-01-01T00:00:00Z", "count": 717356}, {
                                "name": "2009-02-01T00:00:00Z",
                                "count": 298
                            }, {"name": "2009-03-01T00:00:00Z", "count": 2747882}, {
                                "name": "2009-04-01T00:00:00Z",
                                "count": 926986
                            }, {"name": "2009-05-01T00:00:00Z", "count": 824550}, {
                                "name": "2009-06-01T00:00:00Z",
                                "count": 1352773
                            }, {"name": "2009-07-01T00:00:00Z", "count": 718509}, {
                                "name": "2009-08-01T00:00:00Z",
                                "count": 241714
                            }, {"name": "2009-09-01T00:00:00Z", "count": 1277734}, {
                                "name": "2009-10-01T00:00:00Z",
                                "count": 2373933
                            }, {"name": "2009-11-01T00:00:00Z", "count": 2377009}, {
                                "name": "2009-12-01T00:00:00Z",
                                "count": 1245353
                            }, {"name": "2010-01-01T00:00:00Z", "count": 1502646}, {
                                "name": "2010-02-01T00:00:00Z",
                                "count": 2724298
                            }, {"name": "2010-03-01T00:00:00Z", "count": 8493352}, {
                                "name": "2010-04-01T00:00:00Z",
                                "count": 596494
                            }, {"name": "2010-05-01T00:00:00Z", "count": 949699}, {
                                "name": "2010-06-01T00:00:00Z",
                                "count": 12980101
                            }, {"name": "2010-07-01T00:00:00Z", "count": 3035795}, {
                                "name": "2010-08-01T00:00:00Z",
                                "count": 4101067
                            }, {"name": "2010-09-01T00:00:00Z", "count": 7313400}, {
                                "name": "2010-10-01T00:00:00Z",
                                "count": 7765202
                            }, {"name": "2010-11-01T00:00:00Z", "count": 2918625}, {
                                "name": "2010-12-01T00:00:00Z",
                                "count": 6911047
                            }, {"name": "2011-01-01T00:00:00Z", "count": 11490876}, {
                                "name": "2011-02-01T00:00:00Z",
                                "count": 2985594
                            }, {"name": "2011-03-01T00:00:00Z", "count": 7533602}, {
                                "name": "2011-04-01T00:00:00Z",
                                "count": 5488477
                            }, {"name": "2011-05-01T00:00:00Z", "count": 2012150}, {
                                "name": "2011-06-01T00:00:00Z",
                                "count": 3301755
                            }, {"name": "2011-07-01T00:00:00Z", "count": 4575590}, {
                                "name": "2011-08-01T00:00:00Z",
                                "count": 1184005
                            }, {"name": "2011-09-01T00:00:00Z", "count": 2999048}, {
                                "name": "2011-10-01T00:00:00Z",
                                "count": 8442571
                            }, {"name": "2011-11-01T00:00:00Z", "count": 1485324}, {
                                "name": "2011-12-01T00:00:00Z",
                                "count": 2383432
                            }, {"name": "2012-01-01T00:00:00Z", "count": 1852447}, {
                                "name": "2012-02-01T00:00:00Z",
                                "count": 1411685
                            }, {"name": "2012-03-01T00:00:00Z", "count": 8094181}, {
                                "name": "2012-04-01T00:00:00Z",
                                "count": 520529
                            }, {"name": "2012-05-01T00:00:00Z", "count": 7577611}, {
                                "name": "2012-06-01T00:00:00Z",
                                "count": 3731105
                            }, {"name": "2012-07-01T00:00:00Z", "count": 3405276}, {
                                "name": "2012-08-01T00:00:00Z",
                                "count": 2949852
                            }, {"name": "2012-09-01T00:00:00Z", "count": 1722339}, {
                                "name": "2012-10-01T00:00:00Z",
                                "count": 6854598
                            }, {"name": "2012-11-01T00:00:00Z", "count": 1923207}, {
                                "name": "2012-12-01T00:00:00Z",
                                "count": 1084487
                            }, {"name": "2013-01-01T00:00:00Z", "count": 1641465}, {
                                "name": "2013-02-01T00:00:00Z",
                                "count": 2657667
                            }, {"name": "2013-03-01T00:00:00Z", "count": 4371676}, {
                                "name": "2013-04-01T00:00:00Z",
                                "count": 1277147
                            }, {"name": "2013-05-01T00:00:00Z", "count": 3082999}, {
                                "name": "2013-06-01T00:00:00Z",
                                "count": 776583
                            }, {"name": "2013-07-01T00:00:00Z", "count": 3345769}, {
                                "name": "2013-08-01T00:00:00Z",
                                "count": 1219002
                            }, {"name": "2013-09-01T00:00:00Z", "count": 915054}, {
                                "name": "2013-10-01T00:00:00Z",
                                "count": 2477489
                            }, {"name": "2013-11-01T00:00:00Z", "count": 814818}, {
                                "name": "2013-12-01T00:00:00Z",
                                "count": 466585
                            }, {"name": "2014-01-01T00:00:00Z", "count": 1904701}, {
                                "name": "2014-02-01T00:00:00Z",
                                "count": 915491
                            }, {"name": "2014-03-01T00:00:00Z", "count": 724253}, {
                                "name": "2014-04-01T00:00:00Z",
                                "count": 977836
                            }, {"name": "2014-05-01T00:00:00Z", "count": 2690018}, {
                                "name": "2014-06-01T00:00:00Z",
                                "count": 344544
                            }, {"name": "2014-07-01T00:00:00Z", "count": 412379}, {
                                "name": "2014-08-01T00:00:00Z",
                                "count": 1730483
                            }, {"name": "2014-09-01T00:00:00Z", "count": 24875}, {
                                "name": "2014-10-01T00:00:00Z",
                                "count": 32172
                            }, {"name": "2014-11-01T00:00:00Z", "count": 2206}, {
                                "name": "2014-12-01T00:00:00Z",
                                "count": 8345
                            }, {"name": "2015-01-01T00:00:00Z", "count": 397895}, {
                                "name": "2015-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2015-03-01T00:00:00Z", "count": 362311}, {
                                "name": "2015-04-01T00:00:00Z",
                                "count": 2327062
                            }, {"name": "2015-05-01T00:00:00Z", "count": 10127}, {
                                "name": "2015-06-01T00:00:00Z",
                                "count": 150272
                            }, {"name": "2015-07-01T00:00:00Z", "count": 83073}, {
                                "name": "2015-08-01T00:00:00Z",
                                "count": 10486
                            }, {"name": "2015-09-01T00:00:00Z", "count": 115513}, {
                                "name": "2015-10-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2015-11-01T00:00:00Z", "count": 146}, {
                                "name": "2015-12-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2016-01-01T00:00:00Z", "count": 0}, {
                                "name": "2016-02-01T00:00:00Z",
                                "count": 0
                            }, {"name": "2016-03-01T00:00:00Z", "count": 0}, {
                                "name": "2016-04-01T00:00:00Z",
                                "count": 0
                            }]
                        };
                $scope.rangeFilters = $scope.rangeFilters || {};
                $scope.onFilterChange = function () {
                    console.info(JSON.stringify($scope.rangeFilters));
                };
                $scope.config = {
                    rangeFacetFields: {
                        mw: {
                            field: 'mw',
                            name: 'Molecular Weight',
                            unit: 'Molecular Weight, Daltons ',
                            xmin: 1,
                            xmax: 200,
                            xtickscale: 10,
                            width: window.innerWidth * 0.5 > 500 ? 500 : window.innerWidth * 0.5,
                            height: 100
                        },
                        acvalue: {
                            field: 'acvalue',
                            name: 'Activity Value ',
                            unit: 'Activity Value, M',
                            xmin: 1,
                            xmax: 100,
                            xtickscale: 1,
                            width: window.innerWidth * 0.5 > 500 ? 500 : window.innerWidth * 0.5,
                            height: 100
                        },
                        aidmdate: {
                            field: 'aidmdate',
                            name: 'Modified Date',
                            unit: 'Modified Date',
                            xmin: new Date(1996, 1, 1),
                            xmax: new Date(),
                            xUnits: d3.time.months,
                            timeParser: d3.time.format('%Y-%m-%dT%H:%M:%SZ').parse,
                            width: window.innerWidth * 0.5 > 500 ? 500 : window.innerWidth * 0.5,
                            height: 100
                        }
                    }
                };
            }]);

    document.body.insertAdjacentHTML('afterbegin', '<div>Singular@' + (new Singular()).version + '</div>');
</script>

</body>
</html>
